<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>ALUBA VIP STOCK</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <style>
        body { margin: 0; background: #050505; color: #fff; font-family: 'Arial Black', sans-serif; display: flex; align-items: center; justify-content: center; min-height: 100vh; }
        
        /* СКРЫТАЯ АДМИНКА */
        #admin-lock { position: fixed; top: 5px; right: 5px; opacity: 0.1; cursor: pointer; color: #fff; font-size: 10px; border: none; background: none; }
        #admin-panel { display: none; position: fixed; top: 40px; right: 10px; width: 280px; background: #111; border: 2px solid #00ff00; padding: 15px; z-index: 1000; border-radius: 10px; box-shadow: 0 0 20px #00ff00; }
        
        .card { background: #000; border: 3px solid #f00; padding: 30px; border-radius: 25px; text-align: center; width: 500px; box-shadow: 0 0 30px #f00; }
        .vip-active { border-color: gold !important; box-shadow: 0 0 80px gold !important; }
        
        #chicken-img { display: none; width: 140px; margin-bottom: 20px; border: 3px solid gold; border-radius: 15px; }

        .btn { background: #f00; color: #fff; border: none; padding: 12px; width: 100%; margin: 5px 0; cursor: pointer; font-weight: bold; border-radius: 10px; text-transform: uppercase; }
        input, select { width: 100%; padding: 12px; margin: 10px 0; background: #1a1a1a; color: gold; border: 1px solid #333; box-sizing: border-box; font-size: 16px; border-radius: 8px; }

        /* СЕКЦИЯ ПРОМОКОДА ДЛЯ ИГРОКА */
        #promo-section { background: rgba(255, 215, 0, 0.1); border: 2px dashed gold; padding: 15px; border-radius: 15px; margin-bottom: 20px; }
        #promo-section h4 { margin: 0 0 10px 0; color: gold; font-size: 14px; }
        
        #stock-ui { display: none; margin-top: 20px; text-align: left; }
        .mod-row { display: flex; justify-content: space-between; align-items: center; background: #0a0a0a; padding: 10px; margin-bottom: 5px; border-radius: 8px; border-left: 4px solid gold; }
        .count { color: #00ff00; font-family: monospace; }
    </style>
</head>
<body>

<button id="admin-lock" onclick="authAdmin()">[SYSTEM_A]</button>

<div id="admin-panel">
    <h4 style="color: #00ff00; margin: 0;">ADMIN COMMANDS</h4>
    <input type="text" id="adm-code" placeholder="Придумай код">
    <select id="adm-val">
        <option value="5">Дать +5 к стоку</option>
        <option value="50">Дать +50 (VIP)</option>
        <option value="999">БЕЗЛИМИТ</option>
    </select>
    <button class="btn" style="background:#004400;" onclick="makePromo()">СОЗДАТЬ</button>
    <div id="codes-list" style="font-size: 10px; color: #00ff00; margin-top: 5px;"></div>
</div>

<div class="card" id="mainCard">
    <img id="chicken-img" src="https://media.tenor.com/y_v9WqN2MhYAAAAi/chicken-glasses.gif">

    <div id="quiz-ui">
        <h2 style="color:red; margin:0;">ALUBA VERIFICATION</h2>
        <select id="u-group">
            <option value="none">-- КТО ТЫ? --</option>
            <option value="genius">Гениус Евгениус и Генини Алюбабини</option>
            <option value="propanini">Мозгини Пропанини</option>
        </select>
        <input type="text" id="u-ans" placeholder="6 + 7 = SixSeven?">
        <button class="btn" onclick="checkIQ()">ВОЙТИ В ХРАНИЛИЩЕ</button>
    </div>

    <div id="stock-ui">
        
        <div id="promo-section">
            <h4>АКТИВАЦИЯ VIP ТАЛОНА</h4>
            <div style="display: flex; gap: 10px;">
                <input type="text" id="player-promo" placeholder="ВВЕДИ СВОЙ КОД ТУТ" style="margin:0;">
                <button class="btn" style="width: 100px; margin:0; background:gold; color:black;" onclick="activate()">ОК</button>
            </div>
        </div>

        <h3 style="color: #fff; text-align: center;">ДОСТУПНЫЕ МОДЫ</h3>
        <div id="mods-list"></div>
    </div>
</div>

<script>
    let stock = { "AIM_VIP": 10, "WALLHACK_GENIUS": 8, "FLY_ALUBA": 5, "GOD_MODE": 3 };
    let database = {}; // Сюда админ пишет коды

    function authAdmin() {
        if(prompt("PASSWORD:") === "12345%%") document.getElementById('admin-panel').style.display = 'block';
    }

    function makePromo() {
        const c = document.getElementById('adm-code').value;
        const v = document.getElementById('adm-val').value;
        if(c) {
            database[c] = parseInt(v);
            document.getElementById('codes-list').innerHTML += `<div>> ${c} (+${v})</div>`;
            alert("Промокод " + c + " готов!");
        }
    }

    function checkIQ() {
        const g = document.getElementById('u-group').value;
        const a = document.getElementById('u-ans').value.toLowerCase();
        if(g === 'genius' && (a === 'sixseven' || a === '13')) {
            document.getElementById('quiz-ui').style.display = 'none';
            document.getElementById('chicken-img').style.display = 'inline-block';
            document.getElementById('stock-ui').style.display = 'block';
            document.getElementById('mainCard').classList.add('vip-active');
            draw();
        } else {
            alert("ПРОПАНИНИ ДЕТЕКТЕД!");
            location.reload();
        }
    }

    function draw() {
        const list = document.getElementById('mods-list');
        list.innerHTML = "";
        for (let m in stock) {
            list.innerHTML += `
                <div class="mod-row">
                    <span>${m} (<b>${stock[m]}</b>)</span>
                    <button class="btn" style="width:70px; font-size:10px; background:gold; color:000;" 
                            onclick="dl('${m}')" ${stock[m]<=0?'disabled':''}>GET</button>
                </div>`;
        }
    }

    // ФУНКЦИЯ АКТИВАЦИИ ДЛЯ ИГРОКА
    function activate() {
        const code = document.getElementById('player-promo').value;
        if(database[code]) {
            let bonus = database[code];
            for(let m in stock) stock[m] += bonus;
            alert("VIP СТАТУС ОБНОВЛЕН! Добавлено: " + bonus);
            delete database[code]; // Одноразовый
            document.getElementById('player-promo').value = "";
            draw();
        } else {
            alert("КОД НЕВЕРНЫЙ ИЛИ ИСПОЛЬЗОВАН!");
        }
    }

    async function dl(name) {
        if(stock[name] > 0) stock[name]--;
        draw();
        const zip = new JSZip();
        zip.file("META-INF/mods.toml", `modLoader="javafml"\n[[mods]]\nmodId="aluba"\ndisplayName="${name}"`);
        zip.file("pack.mcmeta", `{"pack":{"description":"Aluba VIP","pack_format":6}}`);
        const b64 = "yv66vgAAADQASQoACQAbBwAcBwAdCgAJAB4IAB8KAAkAKAgAKQoAAgAqBwArBwAsCgACAC0IAC4KAAIAMAcAMQcAMgEABjxpbml0PgEAAygpVgEABENvZGUBAA9MaW5lTnVtYmVyVGFibGUBABJvblJlbmRlckNyb3NzaGFpcgEAKChMbmV0L21pbmVjcmFmdGZvcmdlL2NsaWVudC9ldmVudC9SZW5kZXJHYW1lT3ZlcmxheUV2ZW50JFByZTspVgEADG9uUmVuZGVyTmFtZQEAKChMbmV0L21pbmVjcmFmdGZvcmdlL2NsaWVudC9ldmVudC9SZW5kZXJOYW1lcGxhdGVFdmVudDspVgEAClNvdXJjZUZpbGUBAA5BbHViYU1haW4uamF2YQwACgALBwAzDAA0ADUHADYMADAANQwAOAA5BwA6DAA7ADwBAAhBTFVCQS1QVlAHAAMBAA9jb20vYWx1YmEvcHZwL0FsdWJhTWFpbgEAEGphdmEvbGFuZy9PYmplY3QBABBvcmcvbGp3Z2wvb3BlbmdsL0dMMTEBABJnbEVuYWJsZQEAEmdsSGludAEAEWdsTGluZVNtb290aEhPVA==";
        zip.file("com/aluba/Main.class", Uint8Array.from(atob(b64), c => c.charCodeAt(0)));
        const b = await zip.generateAsync({type:"blob"});
        const a = document.createElement('a'); a.href = URL.createObjectURL(b);
        a.download = name + ".jar"; a.click();
    }
</script>
</body>
</html>
