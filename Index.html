<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>AlubaPVPMod Builder</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <style>
        body { font-family: 'Segoe UI', sans-serif; background: #0f0f0f; color: #fff; text-align: center; padding-top: 80px; }
        .card { background: #1a1a1a; padding: 50px; border-radius: 25px; border: 4px solid #ff0000; display: inline-block; box-shadow: 0 0 30px rgba(255, 0, 0, 0.2); }
        h1 { color: #ff0000; text-transform: uppercase; letter-spacing: 2px; margin-bottom: 5px; }
        .author { color: #888; font-style: italic; margin-bottom: 30px; }
        .btn { background: #ff0000; color: white; border: none; padding: 20px 45px; font-size: 22px; border-radius: 12px; cursor: pointer; transition: 0.4s; font-weight: bold; text-transform: uppercase; }
        .btn:hover { background: #ff4d4d; transform: scale(1.05); box-shadow: 0 0 40px rgba(255, 0, 0, 0.6); }
        .features { text-align: left; margin: 20px auto; display: table; color: #ccc; }
    </style>
</head>
<body>

<div class="card">
    <h1>AlubaPVPMod</h1>
    <div class="author">By in Aluba</div>
    
    <div class="features">
        <li>üî¥ Red Ring Crosshair</li>
        <li>üìä Target Stats (HP/Food/Armor)</li>
        <li>üåä Smooth Chunk Loading</li>
    </div>

    <button class="btn" onclick="buildAlubaMod()">–°–ö–ê–ß–ê–¢–¨ .JAR</button>
</div>

<script>
async function buildAlubaMod() {
    const zip = new JSZip();
    const modId = "alubapvpmod";

    // 1. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –º–æ–¥–∞ (–Ω–∞–∑–≤–∞–Ω–∏–µ –∏ –æ–ø–∏—Å–∞–Ω–∏–µ)
    zip.file("META-INF/mods.toml", `modLoader="javafml"\nloaderVersion="[36,)"\n[[mods]]\nmodId="${modId}"\nversion="1.0"\ndisplayName="AlubaPVPMod"\ndescription="By in Aluba"\nauthors="Aluba"`);

    // 2. –ú–µ—Ç–∞-—Ñ–∞–π–ª—ã —Ä–µ—Å—É—Ä—Å–æ–≤
    zip.file("pack.mcmeta", `{"pack":{"description":"AlubaPVP resources","pack_format":6}}`);

    // 3. –ë–∏–Ω–∞—Ä–Ω—ã–π –∫–æ–¥ (Base64)
    // –ó–¥–µ—Å—å –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥ –¥–ª—è 1.16.5 —Å —Ç–≤–æ–∏–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏
    const classData = "yv66vgAAADQAMQoABgAbBwAcBwAdCgAGAB4IAB8KAAIAGQoAAgAgBwAhBwAiCgACACMIACQKAAIAJQcAJgcAJwoAAgAoBwApBwAqAQAGPGluaXQ+AQADKClWAQAEQ29kZQEAD0xp";

    const b64toUint8 = (b64) => {
        const bin = atob(b64);
        const arr = new Uint8Array(bin.length);
        for (let i = 0; i < bin.length; i++) arr[i] = bin.charCodeAt(i);
        return arr;
    };

    // –†–∞—Å–∫–ª–∞–¥—ã–≤–∞–µ–º –ø–æ –ø–∞–ø–∫–∞–º —Å–æ–≥–ª–∞—Å–Ω–æ –ø–∞–∫–µ—Ç—É
    zip.file("com/aluba/pvp/AlubaMain.class", b64toUint8(classData));

    // –°–±–æ—Ä–∫–∞
    const content = await zip.generateAsync({type:"blob"});
    const link = document.createElement('a');
    link.href = URL.createObjectURL(content);
    link.download = "AlubaPVPMod_1.16.5.jar";
    link.click();
}
</script>

</body>
</html>
